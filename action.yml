name: 'Build CMake'
description: 'Configure, Build and Test a CMake project'
author: 'Ashutosh Varma'
inputs:
  build-type:              
    description: 'CMake build type (Release, Debug, MinSizeRel, RelWithDebInfo)'
    default: 'Release'
  cc:
    description: 'C Compiler for toolchain'
    default: 'gcc'
  cxx:
    description: 'C++ Compiler for toolchain'
    default: 'g++'
  target:
    description: CMake build target
  parallel:
    description: Number of concurrent jobs for build and test
    default: 4
  build-dir:
    description: Build directory where build files will be generated
    default: ${{ runner.workspace }}/build
  run-test:
    description: Run CTest or not
    default: false
  install-build:
    description: Run 'cmake --install' or not
    default: false
  submodule-update:
    description: Update git submodules
    default: false
  options:
    description: Misc Options to pass to CMake while configuring project
  build-options:
    description: Misc Options to pass to CMake while building project using cmake --build
  ctest-options:
    description: Misc Options to pass to CTest
  
runs:
  using: 'node12'
  main: 'dist/index.js'
